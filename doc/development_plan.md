# Chain Solitaire 2048 개발 계획

이 문서는 `doc/prd.md`를 기반으로 한 웹 버전 Chain Solitaire 2048 게임의 개발 계획을 정의합니다.

## 0단계: 프로젝트 초기 설정

-   **프레임워크 선택**: React (Create React App 또는 Next.js)
-   **언어**: TypeScript
-   **기본 파일 구조 생성**:
    -   `src/components/Card.tsx`
    -   `src/components/Column.tsx`
    -   `src/components/GameBoard.tsx`
    -   `src/logic/GameLogic.ts`
    -   `src/state/GameState.ts`
-   **상태 관리 라이브러리 선택**: (예: Zustand, Recoil, Redux Toolkit)
-   **스타일링**: CSS Modules, Styled-components 또는 Tailwind CSS

## 1단계: 기본 게임 기능 구현

-   **UI 레이아웃 구현**:
    -   상단: 점수, 남은 시간 표시 영역
    -   중앙: 4개의 카드 컬럼 영역
    -   하단: 3개의 대기 카드 큐 영역
    -   액션: Undo, Trash 버튼 영역
-   **데이터 구조 정의**:
    -   `Card` 타입 정의: `{ id, value, color, columnId, positionIndex }`
    -   `Column` 타입 정의: `Card[]`
-   **기본 상호작용 구현**:
    -   카드 드래그 앤 드롭 기능 (컬럼 간 카드 이동)
    -   같은 숫자의 카드가 만나면 합쳐지는 기본 로직 (체인 리액션 제외)

## 2단계: 체인 병합 로직 구현

-   **연속 병합 로직 개발 (`GameLogic.ts`)**:
    -   한 컬럼의 최상단에 같은 숫자의 카드가 2개 이상 쌓일 경우 연쇄적으로 합쳐지는 기능 구현
    -   카드가 합쳐진 후, 새로 생성된 카드가 또 다른 카드와 합쳐질 수 있는지 확인하는 재귀 또는 반복 로직 구현
-   **애니메이션**:
    -   카드 병합 시 부드러운 시각적 효과 추가

## 3단계: 대기 큐 및 카드 생성 구현

-   **대기 큐 로직 구현 (`GameState.ts`)**:
    -   하단 3개 대기 큐의 동작 방식 구현 (좌측부터 카드 사용)
-   **신규 카드 생성 로직 (`GameLogic.ts`)**:
    -   큐의 우측에 새로운 카드가 생성되는 로직 구현
    -   카드 값은 `2^n` (n은 1부터 특정 범위 내의 랜덤 정수) 공식에 따라 생성

## 4단계: Undo / Trash 기능 개발

-   **Undo 기능 (`GameState.ts`)**:
    -   게임 상태 (컬럼, 큐, 점수 등)를 저장하는 로직 구현 (최대 2개 상태 저장)
    -   Undo 버튼 클릭 시 이전 게임 상태로 복원하는 기능 구현
-   **Trash 기능 (`GameState.ts`)**:
    -   대기 큐의 카드를 하나 버리는 기능 구현
    -   Trash는 1회만 사용 가능하도록 제한 (사용 횟수 상태 관리)

## 5단계: 반응형 웹 디자인

-   **PC 레이아웃 최적화**:
    -   마우스 호버(hover) 시 카드 강조 효과
    -   다중 선택 및 드래그 앤 드롭 기능 (선택 사항)
-   **모바일 레이아웃 최적화**:
    -   화면 크기에 따라 UI가 유연하게 변경되도록 CSS Media Query 적용
    -   터치 이벤트 구현 (Long press, Tap-to-move 등)

## 6단계: 게임 목표 및 점수 시스템 완성

-   **게임 종료 조건 구현**:
    -   2048 카드 생성 시 '승리' 알림 표시
    -   더 이상 카드를 놓을 공간이 없을 때 '게임 오버' 처리
-   **점수 시스템 구현**:
    -   카드가 합쳐질 때마다 해당 카드의 숫자만큼 점수 추가
-   **추가 기능 (선택 사항)**:
    -   특정 숫자 (예: 1024) 이상을 만들었을 때 특별한 이펙트나 보너스 제공 