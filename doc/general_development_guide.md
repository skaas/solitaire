# 범용 소프트웨어 개발을 위한 5가지 핵심 원칙

이 문서는 프로젝트의 규모나 종류에 관계없이, 코드의 안정성, 확장성, 유지보수성을 높이기 위해 따라야 할 5가지 핵심 개발 원칙을 제시합니다.

---

### 원칙 1: "책임"을 명확히 분리하라 (Separation of Concerns)

> "한 녀석은 한 가지 일만 잘하게 하라."

각 코드 조각(모듈, 클래스, 함수)은 오직 하나의 명확한 책임만 가져야 합니다. 이는 소프트웨어 공학에서 가장 중요하고 기본적인 원칙입니다.

-   **지침:**
    -   **로직과 뷰를 분리하세요:** 사용자에게 보여지는 부분(View)과 데이터 처리 및 비즈니스 규칙(Logic)이 섞이지 않도록 하십시오. (예: React 컴포넌트 안에서 직접적인 API 호출이나 복잡한 데이터 계산을 지양하고, 이를 서비스나 훅(Hook)으로 분리)
    -   **상태와 행위를 분리하세요:** 애플리케이션의 '상태(State)'를 저장하는 코드와, 그 상태를 변경하는 복잡한 '행위(Action/Service)'를 분리하십시오. 상태 저장소는 단순한 데이터 컨테이너와 간단한 세터(Setter)의 역할에 충실해야 합니다.
    -   **하나의 함수는 하나의 목적만 가지도록 작성하세요:** 함수 이름이 그 함수의 모든 것을 설명해야 합니다. 만약 함수 이름에 'and'가 들어간다면, 해당 함수가 두 가지 이상의 일을 하고 있다는 신호이므로 분리를 고려해야 합니다.

---

### 원칙 2: "하나의 진실된 원천"을 유지하라 (Single Source of Truth, SSOT)

> "데이터는 한 곳에서만 관리하고, 다른 곳에서는 그 데이터를 참조하거나 파생하여 사용하라."

동일한 데이터가 여러 곳에 중복으로 존재하면, 데이터 불일치로 인한 버그가 발생하기 쉽습니다.

-   **지침:**
    -   **상태를 중복으로 저장하지 마세요:** 예를 들어, `user` 객체가 있다면 `isLoggedIn`이라는 별도의 상태를 만들지 마십시오. `isLoggedIn`은 `user !== null` 이라는 조건으로 언제든지 파생시킬 수 있는 '파생 상태(Derived State)'입니다.
    -   **전역 상태를 신중하게 사용하세요:** 여러 컴포넌트가 반드시 공유해야 하는 핵심적인 상태(예: 로그인한 사용자 정보, 테마 설정)만 전역 상태 저장소(Redux, Zustand 등)에 두십시오. 나머지는 컴포넌트의 로컬 상태로 관리하는 것이 좋습니다.
    -   **설정값과 상수는 한 곳에서 관리하세요:** API 기본 URL, 기본 색상 코드 등 애플리케이션 전반에서 사용되는 설정 값들은 별도의 설정 파일(예: `config.ts`, `.env`)에 모아두어 일관성을 유지하십시오.

---

### 원칙 3: "부수 효과(Side Effect)"를 격리하고 예측 가능하게 만들라

> "나의 행동이 나의 영역 밖에서 어떤 예기치 않은 나비효과를 일으킬지 모르게 하지 말라."

부수 효과란 함수의 결과값 외에 애플리케이션의 상태를 변경하거나 외부 세계와 상호작용하는 모든 것을 의미합니다. (예: API 요청, `localStorage` 조작, `console.log`)

-   **지침:**
    -   **핵심 비즈니스 로직은 순수 함수로 작성하세요:** 동일한 입력에 대해 항상 동일한 출력을 반환하고 부수 효과가 없는 '순수 함수(Pure Function)'로 핵심 로직을 구성하십시오. 이는 테스트와 재사용을 매우 용이하게 만듭니다.
    -   **부수 효과를 명시적으로 분리하세요:** 부수 효과를 일으키는 코드는 특정 계층(예: 서비스 계층, React의 `useEffect` 훅)에 격리하여, "이 부분은 외부와 통신하는 위험한 구간이다"라는 것을 명확히 하십시오.
    -   **명령(Command)과 조회(Query)를 분리하세요 (CQS 원칙):** 데이터를 변경하는 함수(Command)는 값을 반환하지 말고, 데이터를 조회하는 함수(Query)는 데이터를 변경하지 않도록 설계하면 시스템의 예측 가능성이 크게 향상됩니다.

---

### 원칙 4: 코드의 "불변성(Immutability)"을 지켜라

> "과거의 기록이나 현재 상태를 마음대로 수정하지 말라. 항상 새로운 사본을 만들어 변경의 역사를 남겨라."

데이터(객체, 배열)의 원본을 직접 수정하는 것은 예기치 않은 버그의 가장 흔한 원인 중 하나입니다.

-   **지침:**
    -   **원본 데이터를 직접 수정하지 마세요:** 상태를 업데이트할 때는 항상 스프레드 연산자(`...`), `map`, `filter` 등을 사용하여 새로운 객체나 배열을 생성하여 반환하십시오.
    -   **방어적 복사를 습관화하세요:** 외부로부터 받은 객체를 내부 상태로 저장할 때는, 원본 객체가 외부에서 변경될 가능성을 차단하기 위해 복사본을 만들어 저장하는 것이 안전합니다.
    -   **`immer`와 같은 도구를 활용하세요:** 특히 복잡하고 중첩된 구조의 상태를 다룰 때는, 사람의 실수를 막아주는 불변성 헬퍼 라이브러리를 적극적으로 도입하는 것을 고려하십시오.

---

### 원칙 5: 스스로를 설명하는 "자가 문서화(Self-Documenting)" 코드를 작성하라

> "최고의 문서는 코드 그 자체다."

코드는 한번 작성되고 끝나는 것이 아니라, 계속해서 읽히고 수정됩니다. 미래의 동료와 나 자신을 위해 이해하기 쉬운 코드를 작성해야 합니다.

-   **지침:**
    -   **명확한 이름짓기:** 변수, 함수, 클래스의 이름은 그 역할과 의도를 정확하게 설명해야 합니다. 축약어나 의미 없는 이름(예: `a`, `b`, `temp`, `data`)을 피하십시오.
    -   **주석은 '왜(Why)'를 설명하는 데 사용하세요:** 코드가 '무엇을(What)' 하는지는 코드 자체가 설명해야 합니다. 주석은 왜 이 코드가 이런 방식으로 작성되었는지, 비즈니스 규칙이나 기술적 제약사항 등 코드만 보고는 알 수 없는 배경 지식을 설명하는 데 집중해야 합니다.
    -   **일관된 코드 스타일을 유지하세요:** `ESLint`, `Prettier`와 같은 도구를 사용하여 프로젝트 전체의 코드 형식을 통일하십시오. 이는 가독성을 높이고 사소한 논쟁을 줄여줍니다.
